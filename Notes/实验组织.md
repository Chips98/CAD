### **论文实验章节：模型有效性验证 (Experimental Validation)**

#### **1\. 实验总体目标与核心挑战**

**总体目标**: 本研究旨在通过一系列定量与定性实验，从三个层面系统性地验证整合了CAD-MD模型的抑郁症模拟与引导系统（下文简称**CAD-DAS**）的有效性：

1.  **模拟真实性 (Verisimilitude)**: 验证系统模拟出的抑郁症发展过程及患者行为，是否与真实世界的情况足够相似。
2.  **模型一致性 (Coherence)**: 验证系统内部CAD-MD各维度的动态演化，是否符合我们所依据的心理学理论（如贝克认知理论、反应风格理论）。
3.  **应用效用性 (Utility)**: 验证新增的CAD-MD模型是否能显著提升对AI咨询师的引导（Supervision）质量。

**核心挑战**: 我们面临的主要挑战是**缺乏“黄金标准”的真实数据集**，即无法获取真实个体在抑郁发展过程中，其内部认知状态（如核心信念、思维反刍）随时间变化的连续观测数据。因此，我们的实验设计必须巧妙地利用现有的、有限的真实对话数据，并结合内部模型分析，进行多角度的间接验证。

#### **2\. 数据集描述与预处理**

-   **数据集A (非结构化对话文本)**: 一份匿名的、完整的医患长对话文本。
    -   **处理**: 将其作为**定性案例分析**的素材，人工标注其中体现患者核心信念、认知扭曲、情绪状态和行为倾向的关键句。
-   **数据集B (结构化对话JSON)**: 一份匿名的、多轮对话的JSON数据，包含每轮发言人、文本、医生标注的`action`以及最终的`portrait`和`record`（诊断摘要）。
    -   **处理**:
        1.  **对话提取**: 将其转换为两个序列：`医生发言序列` 和 `患者发言序列`。
        2.  **画像提取**: 提取`portrait`中的年龄、性别等信息，以及`record`中的诊断`summary`，作为初始化或验证模拟角色的依据。

#### **3\. 实验设计**

我们将组织三个层层递进的实验来分别回应上述三个目标。

##### **实验一：模拟真实性验证 (Validation of Simulation Verisimilitude)**

**假设**: CAD-DAS系统生成的模拟患者，其外在行为和对话表征与真实患者难以区分。

-   **子实验1.1: 定性案例复现与比较 (Qualitative Case Replication)**
    
    -   **目的**: 检验系统能否复现真实案例中的核心心理冲突和发展脉络。
    -   **方法**:
        1.  **场景构建**: 基于**数据集A**的对话内容，由研究人员手动创建一个新的`sim_config/case_study_A.py`配置文件。根据对话中透露的信息，设定主角的性格（如“追求完美”、“害怕冲突”）、家庭/社会关系、以及初始的核心负面事件（如一次重要的失败经历）。
        2.  **模拟运行**: 使用该配置运行一次完整的30天模拟。
        3.  **结果比对**: 对比分析：
            -   **数据集A**中标注出的真实患者关键句。
            -   CAD-DAS生成的`final_report.json`中的“关键症状”、“风险因素”和“AI专业分析”部分。
    -   **评估指标**: 邀请2-3名心理学背景的研究生或研究员作为评估者，对模拟结果与真实案例在“核心信念相似度”、“情绪演化逻辑性”、“行为模式一致性”三个维度上进行1-5分的李克特量表评分，并提供定性评价。
-   **子实验1.2: 人机难辨图灵测试 (Human-Machine Indistinguishability Turing Test)**
    
    -   **目的**: 定量评估在真实对话情境中，模拟患者的反应是否达到了与真人难以分辨的水平。
    -   **方法**:
        1.  **角色初始化**: 基于**数据集B**中的`portrait`和`record`，创建一个`sim_config/case_study_B.py`，设定一个与真实患者画像高度一致的模拟角色，并运行模拟使其达到与`record`中相似的最终状态。
        2.  **对话生成**: 启动`TherapySessionManager`，加载该模拟角色的最终状态。将**数据集B**中真实的`医生发言序列`作为输入，逐一喂给模拟患者，并记录下模拟患者生成的`模拟患者发言序列`。
        3.  **测试材料准备**: 准备两份对话记录：
            -   **真实对话**: 原始的“真实医生发言”+“真实患者发言”。
            -   **混合对话**: “真实医生发言”+“模拟患者发言”。
        4.  **人类评估**: 招募一批被试（如心理学专业学生），将两份打乱顺序的对话随机呈现给他们。
    -   **评估指标**:
        1.  **识别准确率**: 要求被试判断哪一份对话中的患者是“由AI扮演的”。如果准确率在50%附近徘徊，则说明模拟达到了以假乱真的效果。
        2.  **对话质量评分**: 要求被试为两份对话在“连贯性”、“情感真实性”、“角色一致性”上分别打分（1-7分）。比较真实对话与混合对话的得分差异是否具有统计显著性。

##### **实验二：CAD-MD模型内部一致性验证 (Validation of Internal Coherence)**

**假设**: CAD-MD各维度之间的动态演化关系，与我们设计的理论模型（贝克认知理论等）的因果路径相符。

-   **子实验2.1: 因果路径时序分析 (Causal Path Time-Series Analysis)**
    
    -   **目的**: 验证模型内部的逻辑是否按预期工作。
    -   **方法**:
        1.  **多场景模拟**: 设计并运行多个具有不同初始侧重点的模拟场景（例如，“高学业压力场景”、“家庭冲突场景”、“社交孤立场景”）。
        2.  **数据提取**: 从每个模拟生成的每日日志（`day_X_state.json`）中，提取出所有CAD-MD维度（自我信念、世界信念、思维反刍等）随时间（天）变化的时间序列数据。
        3.  **可视化分析**: 绘制这些维度的时间序列图。
    -   **评估指标**:
        -   **定性观察**: 观察图表是否符合理论预期。例如，在“社交孤立场景”中，是否能观测到`world_belief`分数首先下降，随后`rumination`分数开始攀升，最终导致`self_belief`分数大幅下跌的时间延迟关系？
        -   **格兰杰因果检验 (Granger Causality Test)**: 对提取出的时间序列数据进行格兰杰因果检验，定量验证我们预设的因果关系（如`self_belief`的变化是否是`rumination`变化的“格兰杰原因”）。
-   **子实验2.2: 关键路径消融研究 (Ablation Study on Key Pathways)**
    
    -   **目的**: 验证模型中关键反馈回路（如“行为->信念”）的必要性。
    -   **方法**:
        1.  **创建“阉割版”模型**: 修改`agents/base_agent.py`中的`_update_cad_state_by_rules`方法，暂时“注释掉”或禁用某条关键的反馈逻辑。例如，禁用“行为倾向（`social_withdrawal`）对核心信念（`CoreBeliefs`）的负面反馈”这一规则。
        2.  **对比模拟**: 在完全相同的初始配置下，分别运行“完整版CAD-DAS”和“阉割版CAD-DAS”的模拟。
        3.  **结果比较**: 比较两个版本最终报告中主角的`DepressionLevel`以及CAD-MD各维度的最终得分。
    -   **评估指标**:
        -   **抑郁严重程度差异**: 检验两个版本最终的抑郁严重程度是否存在显著差异。如果禁用关键反馈回路后，抑郁发展显著减缓，则证明该路径在模型中起到了至关重要的作用。

##### **实验三：对话引导效用性评估 (Evaluation of Guidance Utility)**

**假设**: 基于CAD-MD的深度认知状态分析，能够比仅基于表面症状的分析，为咨询师提供更深刻、更具可操作性的引导建议。

-   **方法**:
    1.  **构建两个版本的督导系统**:
        -   **基线系统 (Baseline)**: 修改`TherapistAgent`的督导prompt，使其只能看到对话历史和`psychology_models.py`中的基础状态（压力、自尊、症状列表），**屏蔽掉所有CAD-MD的深度认知数据**。
        -   **增强系统 (CAD-DAS)**: 使用我们完整的、能看到并分析CAD-MD状态的督导系统。
    2.  **选择典型交互片段**: 从**数据集B**或**实验一**生成的混合对话中，挑选5-8个典型的、具有挑战性的“医患交互轮次”（即一对“医生提问”和“患者回答”）。
    3.  **生成两组建议**: 将这些交互片段分别输入给“基线系统”和“增强系统”，生成两组对应的督导建议。
    4.  **专家盲评**: 招募有经验的心理咨询师或相关领域专家作为评估者。将两组建议打乱顺序、匿名化处理后呈现给专家。
-   **评估指标**:
    -   要求专家对每一对建议（来自基线vs增强系统）进行评分和选择，评分维度包括：
        -   **问题识别深度 (Insightfulness)**: 建议是否揭示了患者深层的认知问题？（1-7分）
        -   **策略针对性 (Specificity)**: 建议的干预策略是否具体、有针对性？（1-7分）
        -   **临床实用性 (Actionability)**: 该建议对一个新手咨询师是否有实际的指导价值？（1-7分）
    -   **总体偏好选择**: “作为一名督导，你更倾向于向你的学生提供哪一条建议？”（二选一）。统计增强版建议被选择的比例。

通过以上三大实验，我们可以从不同侧面、系统地验证CAD-DAS模型的真实性、内部逻辑的自洽性以及在应用中的实际价值，从而形成一份内容翔实、论证有力的学术成果。



